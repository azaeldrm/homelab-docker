- name: Home
  # Optionally, if you only have a single page you can hide the desktop navigation for a cleaner look
  hide-desktop-navigation: true
  head-widgets:
    - type: search
      search-engine: google
      autofocus: true
      # Optional: Add more search engines to the dropdown
      bangs:
        - title: Perplexity
          shortcut: "!p"
          url: https://www.perplexity.ai/search?q={QUERY}
        - title: YouTube
          shortcut: "!y"
          url: https://www.youtube.com/results?search_query={QUERY}
        - title: Amazon
          shortcut: "!a"
          url: https://www.amazon.com/s?k={QUERY}

  columns:
    - size: small
      widgets:
        - type: clock
          hour-format: 12h
          timezones:
            - timezone: America/New_York
              label: Florida
        - type: weather
          location: Washington, US
          units: imperial
          hour-format: 12h
          hide-location: false
        - type: markets
          markets:
            - symbol: TQQQ
              name: TQQQ
            - symbol: RENDER-USD
              name: Render Tkn
            - symbol: TURBO-USD
              name: Turbo Tkn
            - symbol: BTC-USD
              name: Bitcoin
            - symbol: ETH-USD
              name: Ethereum

    - size: full
      widgets:
        - type: docker-containers
          title: Homelab Compute
          sock-path: tcp://homelab-compute:2375
          running-only: false
          hide-by-default: false
          containers:
            jupyter-pytorch:
              name: Jupyter Notebook
              description: Computing environment
              icon: si:jupyter
              hide: false
            docker-socket-proxy:
              name: Docker Socket Proxy
              description: Filtered Docker API proxy
              icon: sh:haproxy-light
              hide: false
            kokoro-fastapi:
              name: Kokoro-FastAPI
              description: OpenAIâ€‘compatible TTS server
              icon: si:stackexchange
              hide: false
            n8n:
              name: n8n
              description: Workflow automation tool
              icon: si:n8n
              hide: false
            glance:
              name: Glance
              description: Compute homelab dashboard
              icon: sh:glance-light
              hide: false
            ollama:
              name: Ollama
              description: Local LLM server
              icon: si:ollama
              hide: false
            open-webui:
              name: Open WebUI
              description: Local LLM chat WebUI
              icon: sh:open-webui
              hide: false
        - type: docker-containers
          title: Homelab
          running-only: false
          hide-by-default: false
          containers:
            caddy:
              name: Caddy
              description: Reverse proxy
              icon: si:caddy
              hide: false
            paperless-webserver-1:
              id: paperless
              name: Paperless-ngx
              description: Document OCR manager
              icon: si:paperlessngx
              hide: false
            paperless-broker-1:
              parent: paperless
              name: Redis
              hide: false
            paperless-db-1:
              parent: paperless
              name: Postgres
              hide: false
            karakeep-web-1:
              id: karakeep
              name: Karakeep
              description: Bookmark manager
              icon: auto-invert sh:karakeep
              hide: false
            karakeep-meilisearch-1:
              parent: karakeep
              name: Meilisearch
              hide: false
            karakeep-chrome-1:
              parent: karakeep
              name: Chrome
              hide: false
            coredns:
              name: CoreDNS
              description: Container DNS server
              icon: si:nextdns
              hide: false
            glance:
              name: Glance
              description: Homelab dashboard
              icon: sh:glance-light
              hide: false
            syncthing:
              name: Syncthing
              description: File sync tool
              icon: si:syncthing
              hide: false
            obsidian:
              name: Obsidian
              description: KB note-taking app
              icon: si:obsidian
              hide: false
            stirling-pdf:
              name: StirlingPDF
              description: PDF manipulation tool
              icon: sh:stirling-pdf-light
              hide: false
            ollama:
              name: Ollama
              description: Local LLM server
              icon: si:ollama
              hide: false
            vaultwarden:
              name: Vaultwarden
              description: Password manager
              icon: si:vaultwarden
              hide: false
            # matter-server:
            #   name: Matter
            #   description: Matter IoT server
            #   icon: sh:matter-light
            #   hide: false
            # home-assistant:
            #   name: Home Assistant
            #   description: Home automation
            #   icon: si:homeassistant
            #   hide: false
        - type: reddit
          cache: 2h
          subreddit: technology
          show-thumbnails: true
          collapse-after: 4
          limit: 10

    - size: small
      widgets:
        - type: dns-stats
          service: pihole-v6
          url: https://pihole.nas.${DOMAIN}
          password: ${PIHOLE_NAS_PASSWORD}
        - type: monitor
          cache: 2m
          title: Services
          style: compact
          sites:
            - title: Immich
              url: ${IMMICH_NAS_URL}
              icon: si:immich
            - title: Pi-Hole NAS
              url: ${PIHOLE_NAS_URL}
              icon: si:pihole
            - title: Pi-Hole RPi
              url: ${PIHOLE_RPI_URL}
              icon: si:pihole
        - type: custom-api
          title: Immich stats
          cache: 1d
          url: ${IMMICH_NAS_URL}/api/server/statistics
          headers:
            x-api-key: ${IMMICH_API_KEY}
            Accept: application/json
          template: |
            <div class="flex justify-between text-center">
              <div>
                  <div class="color-highlight size-h3">{{ .JSON.Int "photos" | formatNumber }}</div>
                  <div class="size-h6">PHOTOS</div>
              </div>
              <div>
                  <div class="color-highlight size-h3">{{ .JSON.Int "videos" | formatNumber }}</div>
                  <div class="size-h6">VIDEOS</div>
              </div>
              <div>
                  <div class="color-highlight size-h3">{{ div (.JSON.Int "usage" | toFloat) 1073741824 | toInt | formatNumber }}GB</div>
                  <div class="size-h6">USAGE</div>
              </div>
            </div>
        - type: releases
          cache: 6h
          # Without authentication the Github API allows for up to 60 requests per hour. You can create a
          # read-only token from your Github account settings and use it here to increase the limit.
          # token: ...
          show-source-icon: true
          collapse-after: 4
          limit: 20
          repositories:
            - home-assistant-libs/python-matter-server
            - home-assistant/core
            - glanceapp/glance
            - open-webui/open-webui
            - immich-app/immich
            - syncthing/syncthing
            - n8n-io/n8n
            - pi-hole/pi-hole
            - ollama/ollama
            - ClassicOldSong/Apollo
            - ClassicOldSong/moonlight-android
            - microsoft/powertoys
            - dani-garcia/vaultwarden
            - paperless-ngx/paperless-ngx
            - karakeep-app/karakeep
